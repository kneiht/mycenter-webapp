{% load static %}
<!DOCTYPE html>
<html lang="en" class="light"> 

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        {{ title }} | Mycenter
    </title>

    <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/unpoly@3.7.3/unpoly.min.css">
    <link id="style" href="{% static 'css/styles.css' %}" rel="stylesheet" />

      <style>
        .truncate-start {
          direction: rtl; /* Reverse the direction of the text */
          text-overflow: ellipsis; /* Apply ellipsis when overflow occurs */
          overflow: hidden; /* Ensure overflow content is not visible */
          white-space: nowrap; /* Prevent text from wrapping to the next line */
        }

        .truncate-start > * {
          direction: ltr; /* Correct the direction of the content inside */
        }

      </style>

      <style>
          .card-image-container {
            width: 100%;
            display: inline-block; /* Needed for aspect-ratio property */
          }

          .card-image-container img {
            width: 100%;
            aspect-ratio: 16 / 9; /* Sets the aspect ratio */
            object-fit: cover; /* Ensures image covers the entire container */
          }
      </style>





    <!-- JS -->

    {% block extra_head %}
    {% endblock %}
</head>


<!-- Add CSRF token for htmx -->
<body class="px-4 bg-[#F0F2F5] dark:bg-slate-900 min-h-full" style="font-family: 'Open Sans';">
    
    <!-- A place holder for displaying modal -->
    <div id="modal" up-hungry></div>

    <!-- Navigation bar -->
    {% include 'components/nav_bar.html' %}

    <!-- The main display -->
    {% if page == 'attendance' %}
        <main class="flex mt-4 gap-3">
            <div class="overflow-y-scroll w-full pr-2" style="height: 89vh;">
                {% include 'components/title_bar.html' %}
                {% include 'components/display_attendance_calendar.html' %}
            </div>
        </main>
        
    {% else %}
        <main class="flex mt-4 gap-3">
            <!-- Keep the display fit the screen, only content inside can be scrolled -->
            <div class="overflow-y-scroll w-full pr-2 pb-10" style="height: 89vh;">
                <!-- The title bar -->
                {% include 'components/title_bar.html' %}
                <!-- The tool bar for database filter, sort and more -->
                {% include 'components/db_tool_bar.html' %}
                <!-- The cards display -->
                {% include 'components/display_cards.html' %}
            </div>
            <!-- The information panel -->
            <!-- {% include 'components/infor_bar.html' %} -->
        </main>

    {% endif %}
    
   
    <!-- js libs -->
    <script>
        document.body.addEventListener('htmx:configRequest', (event) => {
        event.detail.headers['X-CSRF-Token'] = '{% csrf_token %}';
        })
    </script>

    <script src="https://cdn.jsdelivr.net/npm/unpoly@3.7.3/unpoly.min.js"></script>
    <script src="/static/js/main.js"></script>
    



    {% block extra_script %}
    {% endblock %}
</body>

</html>



